;
; Please manually verify the values are correct for your deployment
;
; Required DNS entries for chatmail servers 
;
<%= @config['domain'] %>.	IN	A	<%= node['ipaddress'] %>
<%= @config['domain'] %>.	IN	AAAA	<%= node['ip6address'] %>
<%= @config['domain'] %>.	IN	MX	10	<%= @config['domain'] %>.
_mta-sts.<%= @config['domain'] %>.	TXT	"v=STSv1; id=<%= @sts_id %>"
mta-sts.<%= @config['domain'] %>.	CNAME	<%= @config['domain'] %>.
www.<%= @config['domain'] %>.	IN	CNAME	<%= @config['domain'] %>.
<%= @config['dkim_selector'] %>._domainkey.<%= @config['domain'] %>.	IN	TXT	<%= @dkim_txt %>

;
; Recommended DNS entries for interoperability
;
<%= @config['domain'] %>.	IN	TXT	"v=spf1 a ~all"
_dmarc.<%= @config['domain'] %>.	IN	TXT	"v=DMARC1;p=reject;adkim=s;aspf=s"

;
; Optional DNS entries for hardening
; The CAA record prevents LetsEncrypt from issuing certificates
; for any other account except the one tied to this key on this server.
; YOU MAY NOT WANT THIS IF YOU DO ACME CERTIFICATES FOR THIS DOMAIN ELSEWHERE
;
<%= @config['domain'] %>.	IN	CAA	0	issue "letsencrypt.org;accounturi=<%= @account_uri %>"
_adsp._domainkey.<%= @config['domain'] %>.	IN	TXT	"dkim=discardable"

;
; Optional DNS entries for other email client autoconfiguration
; 
_submission._tcp.<%= @config['domain'] %>.	IN	SRV 0 1 587 <%= @config['domain'] %>.
_submissions._tcp.<%= @config['domain'] %>.	IN	SRV 0 1 465 <%= @config['domain'] %>.
_imap._tcp.<%= @config['domain'] %>.	IN	SRV 0 1 143 <%= @config['domain'] %>.
_imaps._tcp.<%= @config['domain'] %>.	IN	SRV 0 1 993 <%= @config['domain'] %>.
